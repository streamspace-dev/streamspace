================================================================================
  ğŸš€ StreamSpace v{{ .Chart.AppVersion }} has been installed!
================================================================================

{{- if .Values.api.enabled }}

ğŸ“‹ INITIAL ADMIN CREDENTIALS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

{{- if .Values.auth.admin.existingSecret }}

Your admin credentials are stored in the existing secret:
  {{ .Values.auth.admin.existingSecret }}

{{- else }}

Username: admin

{{- if .Values.auth.admin.password }}

Password: (You provided a custom password)

{{- else }}

Password: Run this command to retrieve your auto-generated password:

  kubectl get secret {{ include "streamspace.fullname" . }}-admin-credentials \
    -n {{ .Release.Namespace }} \
    -o jsonpath='{.data.password}' | base64 -d && echo

{{- end }}

Email: {{ .Values.auth.admin.email | default "admin@streamspace.local" }}

âš ï¸  IMPORTANT SECURITY NOTES:
  1. SAVE THIS PASSWORD - This is the only time it will be displayed!
  2. Change the password after first login via the web UI
  3. The secret is marked with "keep" policy - it won't be deleted on uninstall

{{- end }}

{{- end }}

ğŸŒ ACCESS STREAMSPACE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

{{- if .Values.ingress.enabled }}
{{- range .Values.ingress.hosts }}

Web UI:  https://{{ .host }}
API:     https://{{ .host }}/api
Health:  https://{{ .host }}/health

{{- end }}

{{- if .Values.ingress.tls.enabled }}
âœ“ TLS/HTTPS is ENABLED
{{- else }}
âš ï¸  TLS/HTTPS is DISABLED - Enable it for production!
{{- end }}

{{- else }}

Ingress is disabled. To access StreamSpace:

1. Port-forward the UI service:
   kubectl port-forward -n {{ .Release.Namespace }} \
     svc/{{ include "streamspace.fullname" . }}-ui 8080:80

2. Port-forward the API service:
   kubectl port-forward -n {{ .Release.Namespace }} \
     svc/{{ include "streamspace.fullname" . }}-api 8000:8000

3. Access the application:
   Web UI:  http://localhost:8080
   API:     http://localhost:8000

{{- end }}

{{- if .Values.k8sAgent.enabled }}

ğŸ¤– V2.0-BETA ARCHITECTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

StreamSpace v2.0-beta is deployed with the K8s Agent architecture!

Architecture Overview:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Control Plane  â”‚  â† API + VNC Proxy (unified)
  â”‚   (API Pod)     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†• WebSocket
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   K8s Agent     â”‚  â† Connects TO Control Plane
  â”‚  (Agent Pod)    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†• Manages
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Session Pods    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

K8s Agent Status:
  kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/component=k8s-agent

K8s Agent Logs:
  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=k8s-agent -f

Connection Status:
  # Check if agent is connected to Control Plane
  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=k8s-agent \
    | grep "Connected to Control Plane"

  # View agent registration
  kubectl logs -n {{ .Release.Namespace }} -l app.kubernetes.io/component=api \
    | grep "Agent registered"

The K8s Agent connects to the Control Plane via WebSocket for session management.
This replaces the v1.x controller-based architecture.

{{- else if .Values.controller.enabled }}

âš™ï¸  V1.X CONTROLLER ARCHITECTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

StreamSpace is deployed with the v1.x Controller architecture.

To upgrade to v2.0-beta agent architecture:
  helm upgrade {{ .Release.Name }} {{ .Chart.Name }} \
    --reuse-values \
    --set k8sAgent.enabled=true \
    --set controller.enabled=false

{{- end }}

ğŸ“Š MONITORING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

{{- if .Values.monitoring.serviceMonitor.enabled }}
âœ“ Prometheus ServiceMonitor is ENABLED
{{- end }}

{{- if .Values.monitoring.grafanaDashboard.enabled }}
âœ“ Grafana Dashboard is ENABLED
{{- end }}

{{- if or .Values.monitoring.serviceMonitor.enabled .Values.monitoring.grafanaDashboard.enabled }}

View metrics:
  kubectl port-forward -n {{ .Release.Namespace }} \
    svc/{{ include "streamspace.fullname" . }}-controller 8080:8080

  curl http://localhost:8080/metrics

{{- end }}

ğŸ”§ ALTERNATIVE ADMIN ONBOARDING METHODS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

If you cannot access the admin credentials:

Method 1: Environment Variable (Manual Deployments)
  Set ADMIN_PASSWORD environment variable in the API deployment:

  kubectl set env deployment/{{ include "streamspace.fullname" . }}-api \
    -n {{ .Release.Namespace }} \
    ADMIN_PASSWORD='your-secure-password'

  Restart the API pods to apply.

Method 2: Setup Wizard (First-Run or Recovery)
  If the admin account has no password, the setup wizard is automatically
  enabled at:

    {{ if .Values.ingress.enabled }}https://{{ (index .Values.ingress.hosts 0).host }}{{ else }}http://localhost:8080{{ end }}/setup

  Complete the setup wizard to configure the admin password.

Method 3: Password Reset (Account Lockout Recovery)
  To reset the admin password, set ADMIN_PASSWORD_RESET environment variable:

  kubectl set env deployment/{{ include "streamspace.fullname" . }}-api \
    -n {{ .Release.Namespace }} \
    ADMIN_PASSWORD_RESET='new-secure-password'

  Restart the API pods, then remove the variable:

  kubectl set env deployment/{{ include "streamspace.fullname" . }}-api \
    -n {{ .Release.Namespace }} \
    ADMIN_PASSWORD_RESET-

ğŸ“š NEXT STEPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Log in with admin credentials
2. Change the default admin password
3. Create additional users or configure SSO
4. Browse the template catalog and launch your first session
5. Review security settings and enable TLS if not already done

ğŸ“– Documentation: https://docs.streamspace.io
ğŸ› Issues:        https://github.com/JoshuaAFerguson/streamspace/issues
ğŸ’¬ Discussions:   https://github.com/JoshuaAFerguson/streamspace/discussions

================================================================================
  Thank you for using StreamSpace! ğŸ‰
================================================================================
