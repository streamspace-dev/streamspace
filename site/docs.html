<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="StreamSpace Documentation - Architecture, deployment, API reference, and development guides.">
  <title>Documentation - StreamSpace</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <nav>
      <a href="index.html" class="logo">
        <div class="logo-icon">ðŸš€</div>
        <span>StreamSpace</span>
      </a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="features.html">Features</a></li>
        <li><a href="docs.html">Docs</a></li>
        <li><a href="plugins.html">Plugins</a></li>
        <li><a href="getting-started.html">Get Started</a></li>
      </ul>
      <a href="https://github.com/streamspace-dev/streamspace" class="cta-button">GitHub</a>
      <button class="menu-toggle"><span></span><span></span><span></span></button>
    </nav>
  </header>

  <div class="doc-layout">
    <aside class="doc-sidebar">
      <h3>Documentation</h3>
      <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#architecture">Architecture</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="#api">API Reference</a></li>
        <li><a href="#development">Development</a></li>
        <li><a href="#deployment">Deployment</a></li>
      </ul>
    </aside>

    <main class="doc-content">
      <h1>Documentation</h1>
      <p>Comprehensive guides and references for StreamSpace v2.0-beta</p>

      <h2 id="overview">Overview</h2>
      <p>StreamSpace is a multi-platform container streaming platform that delivers GUI applications to web browsers using VNC technology. v2.0-beta introduces a Control Plane + Agent architecture supporting Kubernetes (production-ready) with Docker, VM, and cloud platforms coming soon.</p>

      <h3>Key Concepts (v2.0)</h3>
      <ul>
        <li><strong>Control Plane</strong> - Centralized API/UI that manages agents via WebSocket</li>
        <li><strong>Agent</strong> - Platform-specific component (K8s, Docker, VM) that provisions sessions</li>
        <li><strong>Session</strong> - A running instance of an application for a user</li>
        <li><strong>Template</strong> - An application definition that can be launched as a Session</li>
        <li><strong>VNC Proxy</strong> - End-to-end VNC tunnel through Control Plane to agent</li>
        <li><strong>Hibernation</strong> - Automatic scale-to-zero when sessions are idle</li>
        <li><strong>Plugin</strong> - Extension that adds functionality to StreamSpace</li>
      </ul>

      <h2 id="architecture">Architecture (v2.0-beta)</h2>
      <p>StreamSpace v2.0 uses a Control Plane + Agent architecture with WebSocket communication:</p>

      <h3>1. Control Plane</h3>
      <p>Centralized management API and Web UI that orchestrates agents across multiple platforms.</p>
      <ul>
        <li><strong>Agent Hub</strong> - WebSocket server managing agent connections</li>
        <li><strong>Command Dispatcher</strong> - Routes commands to appropriate agents</li>
        <li><strong>VNC Proxy</strong> - End-to-end VNC tunneling (firewall-friendly)</li>
        <li><strong>PostgreSQL</strong> - Database with 87 tables for state management</li>
        <li><strong>Web UI</strong> - React-based admin and user portal</li>
        <li><strong>REST + WebSocket API</strong> - Comprehensive API for automation</li>
      </ul>
      <p><a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_ARCHITECTURE.md">View v2.0 architecture guide â†’</a></p>

      <h3>2. Platform Agents</h3>
      <p>Agents connect to the Control Plane via WebSocket and manage sessions on their platform.</p>
      <ul>
        <li><strong>K8s Agent</strong> (agents/k8s-agent/) - Production-ready Kubernetes agent</li>
        <li><strong>Docker Agent</strong> - Standalone Docker support (v2.1, in development)</li>
        <li><strong>VM Agent</strong> - Hyper-V/VMware support (v2.2, planned)</li>
        <li><strong>Cloud Agent</strong> - AWS/GCP/Azure support (v2.3, planned)</li>
        <li>WebSocket client (wss://) for bidirectional communication</li>
        <li>VNC tunnel management and health checks</li>
        <li>Automatic registration and reconnection</li>
      </ul>
      <p><a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_AGENT_GUIDE.md">K8s Agent operations guide â†’</a></p>

      <h3>3. Web UI</h3>
      <p>React + TypeScript web interface with Material-UI and real-time agent monitoring.</p>
      <ul>
        <li>User dashboard and session management</li>
        <li>Template catalog browser (200+ apps)</li>
        <li>Agent management and monitoring</li>
        <li>Admin panel for users, groups, quotas</li>
        <li>Real-time updates via WebSocket</li>
        <li>Integrated VNC viewer (noVNC)</li>
      </ul>
      <p><a href="https://github.com/streamspace-dev/streamspace/blob/main/ui/README.md">UI documentation â†’</a></p>

      <h2 id="installation">Installation</h2>
      <p>See the <a href="getting-started.html">Getting Started guide</a> for detailed installation instructions.</p>

      <h3>Quick Install</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">BASH</span>
          <button class="copy-button">Copy</button>
        </div>
        <pre><code># Clone repository
git clone https://github.com/streamspace-dev/streamspace.git
cd streamspace

# Install with Helm
helm install streamspace ./chart \\
  --namespace streamspace \\
  --create-namespace</code></pre>
      </div>

      <h2 id="usage">Usage (v2.0-beta)</h2>

      <h3>Creating Sessions</h3>
      <p>Sessions are created via the Web UI or REST API. The Control Plane routes session requests to the appropriate agent.</p>

      <h4>Using the Web UI</h4>
      <ol>
        <li>Navigate to <strong>Sessions</strong> in the sidebar</li>
        <li>Click <strong>Create Session</strong></li>
        <li>Select an application template (e.g., Firefox Browser)</li>
        <li>Choose your target agent (K8s, Docker, etc.)</li>
        <li>Configure resources (2Gi memory recommended)</li>
        <li>Click <strong>Create</strong> and wait for session to start</li>
        <li>Click <strong>Connect</strong> to open the VNC viewer</li>
      </ol>

      <h4>Using the REST API</h4>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">BASH</span>
          <button class="copy-button">Copy</button>
        </div>
        <pre><code>curl -X POST https://streamspace.example.com/api/v1/sessions \\
  -H "Authorization: Bearer $TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{
    "template_id": "firefox-browser",
    "agent_id": "k8s-prod-cluster",
    "resources": {
      "memory": "2Gi",
      "cpu": "1000m"
    },
    "idle_timeout": "30m"
  }'</code></pre>
      </div>

      <h3>Managing Sessions</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">BASH</span>
          <button class="copy-button">Copy</button>
        </div>
        <pre><code># List all sessions
curl https://streamspace.example.com/api/v1/sessions \\
  -H "Authorization: Bearer $TOKEN"

# Get session details
curl https://streamspace.example.com/api/v1/sessions/{session_id} \\
  -H "Authorization: Bearer $TOKEN"

# Hibernate a session
curl -X PUT https://streamspace.example.com/api/v1/sessions/{session_id} \\
  -H "Authorization: Bearer $TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{"state": "hibernated"}'

# Resume a session
curl -X PUT https://streamspace.example.com/api/v1/sessions/{session_id} \\
  -H "Authorization: Bearer $TOKEN" \\
  -H "Content-Type: application/json" \\
  -d '{"state": "running"}'

# Delete a session
curl -X DELETE https://streamspace.example.com/api/v1/sessions/{session_id} \\
  -H "Authorization: Bearer $TOKEN"

# Check session pods on K8s cluster (if using K8s Agent)
kubectl get pods -n streamspace -l app=session</code></pre>
      </div>

      <h2 id="api">API Reference (v2.0)</h2>

      <h3>Session Endpoints</h3>
      <ul>
        <li><code>GET /api/v1/sessions</code> - List all sessions</li>
        <li><code>POST /api/v1/sessions</code> - Create a session</li>
        <li><code>GET /api/v1/sessions/:id</code> - Get session details</li>
        <li><code>PUT /api/v1/sessions/:id</code> - Update session (state, resources)</li>
        <li><code>DELETE /api/v1/sessions/:id</code> - Delete session</li>
        <li><code>GET /api/v1/sessions/:id/vnc</code> - Get VNC proxy URL</li>
      </ul>

      <h3>Agent Endpoints (v2.0)</h3>
      <ul>
        <li><code>GET /api/v1/agents</code> - List all registered agents</li>
        <li><code>GET /api/v1/agents/:id</code> - Get agent details</li>
        <li><code>GET /api/v1/agents/:id/health</code> - Agent health status</li>
        <li><code>POST /api/v1/agents/:id/commands</code> - Send command to agent</li>
        <li><code>WS /api/v1/agents/hub</code> - Agent Hub WebSocket endpoint</li>
      </ul>

      <h3>Template Endpoints</h3>
      <ul>
        <li><code>GET /api/v1/templates</code> - List templates</li>
        <li><code>GET /api/v1/templates/:id</code> - Get template details</li>
        <li><code>GET /api/v1/catalog/templates</code> - Browse catalog (200+ apps)</li>
      </ul>

      <h3>Plugin Endpoints</h3>
      <ul>
        <li><code>GET /api/v1/plugins/catalog</code> - Browse plugins</li>
        <li><code>POST /api/v1/plugins/install</code> - Install plugin</li>
        <li><code>GET /api/v1/plugins/installed</code> - List installed plugins</li>
      </ul>

      <p><a href="https://github.com/streamspace-dev/streamspace/blob/main/api/README.md">Full API documentation â†’</a></p>

      <h2 id="development">Development (v2.0)</h2>

      <h3>K8s Agent Development</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">BASH</span>
          <button class="copy-button">Copy</button>
        </div>
        <pre><code>cd agents/k8s-agent

# Build locally
go build -o k8s-agent .

# Run tests
go test ./... -v

# Build Docker image
docker build -t streamspace/k8s-agent:dev .

# Deploy to K8s
kubectl apply -f deployments/</code></pre>
      </div>

      <p><a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_AGENT_GUIDE.md">K8s Agent development guide â†’</a></p>

      <h3>API Development</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">BASH</span>
          <button class="copy-button">Copy</button>
        </div>
        <pre><code>cd api

# Run locally
go run cmd/main.go

# Run tests
go test ./...</code></pre>
      </div>

      <h3>UI Development</h3>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">BASH</span>
          <button class="copy-button">Copy</button>
        </div>
        <pre><code>cd ui

# Install dependencies
npm install

# Run development server
npm run dev

# Build for production
npm run build</code></pre>
      </div>

      <h2 id="deployment">Deployment (v2.0-beta)</h2>

      <h3>Production Deployment</h3>
      <p>Create a production values file for Control Plane + K8s Agent:</p>
      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">YAML</span>
          <button class="copy-button">Copy</button>
        </div>
        <pre><code># Control Plane
api:
  replicaCount: 3
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10
  resources:
    requests:
      memory: 1Gi
      cpu: 1000m

ui:
  replicaCount: 2
  resources:
    requests:
      memory: 256Mi
      cpu: 100m

# K8s Agent
k8sAgent:
  enabled: true
  agentId: "k8s-prod-cluster"
  replicas: 1
  resources:
    requests:
      memory: 512Mi
      cpu: 500m

# Database
postgresql:
  enabled: false
  external:
    enabled: true
    host: "postgres.example.com"

# Ingress
ingress:
  enabled: true
  host: "streamspace.example.com"
  className: "nginx"
  tls:
    enabled: true
    secretName: "streamspace-tls"

# Monitoring
monitoring:
  enabled: true
  prometheus:
    enabled: true
  grafana:
    enabled: true</code></pre>
      </div>

      <p>Deploy with: <code>helm install streamspace ./chart -f production-values.yaml</code></p>
      <p><a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_DEPLOYMENT_GUIDE.md">Full v2.0 deployment guide â†’</a></p>

      <h3>Resource Requirements (v2.0)</h3>
      <table style="width: 100%; margin: 2rem 0;">
        <thead>
          <tr>
            <th style="text-align: left; padding: 0.75rem;">Component</th>
            <th style="text-align: left; padding: 0.75rem;">CPU</th>
            <th style="text-align: left; padding: 0.75rem;">Memory</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: 0.75rem;">API (Control Plane)</td>
            <td style="padding: 0.75rem;">1000m</td>
            <td style="padding: 0.75rem;">1Gi</td>
          </tr>
          <tr>
            <td style="padding: 0.75rem;">K8s Agent</td>
            <td style="padding: 0.75rem;">500m</td>
            <td style="padding: 0.75rem;">512Mi</td>
          </tr>
          <tr>
            <td style="padding: 0.75rem;">Web UI</td>
            <td style="padding: 0.75rem;">100m</td>
            <td style="padding: 0.75rem;">256Mi</td>
          </tr>
          <tr>
            <td style="padding: 0.75rem;">PostgreSQL</td>
            <td style="padding: 0.75rem;">1000m</td>
            <td style="padding: 0.75rem;">2Gi</td>
          </tr>
        </tbody>
      </table>

      <h3>Further Reading</h3>
      <ul>
        <li><a href="getting-started.html">Getting Started Guide</a> - Get up and running with v2.0-beta</li>
        <li><strong>v2.0-beta Documentation:</strong></li>
        <li>&nbsp;&nbsp;<a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_DEPLOYMENT_GUIDE.md">v2.0 Deployment Guide</a> - Production deployment (952 lines)</li>
        <li>&nbsp;&nbsp;<a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_AGENT_GUIDE.md">K8s Agent Operations</a> - Agent deployment and operations (1,296 lines)</li>
        <li>&nbsp;&nbsp;<a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_ARCHITECTURE.md">v2.0 Architecture Guide</a> - Control Plane + Agent architecture (1,130 lines)</li>
        <li>&nbsp;&nbsp;<a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_MIGRATION_GUIDE.md">v1.x to v2.0 Migration</a> - Upgrade guide (1,049 lines)</li>
        <li>&nbsp;&nbsp;<a href="https://github.com/streamspace-dev/streamspace/blob/main/docs/V2_BETA_RELEASE_NOTES.md">v2.0-beta Release Notes</a> - What's new (1,295 lines)</li>
        <li><a href="https://github.com/streamspace-dev/streamspace/blob/main/FEATURES.md">Complete Feature List</a> - All implemented features</li>
        <li><a href="https://github.com/streamspace-dev/streamspace/blob/main/ROADMAP.md">Project Roadmap</a> - v2.0-beta complete, v2.1+ planned</li>
        <li><a href="https://github.com/streamspace-dev/streamspace/blob/main/CONTRIBUTING.md">Contributing Guide</a></li>
        <li><a href="plugins.html">Plugin Development Guide</a></li>
      </ul>

      <div class="mt-4">
        <a href="getting-started.html" class="button button-primary">Getting Started</a>
        <a href="https://github.com/streamspace-dev/streamspace" class="button button-secondary">GitHub Repository</a>
      </div>
    </main>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>StreamSpace</h3>
        <p>Open source platform for streaming containerized applications to web browsers.</p>
      </div>
      <div class="footer-section">
        <h3>Documentation</h3>
        <ul>
          <li><a href="getting-started.html">Getting Started</a></li>
          <li><a href="docs.html">Documentation</a></li>
          <li><a href="plugins.html">Plugin Development</a></li>
          <li><a href="https://github.com/streamspace-dev/streamspace">GitHub</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Resources</h3>
        <ul>
          <li><a href="features.html">Features</a></li>
          <li><a href="https://github.com/streamspace-dev/streamspace/blob/main/ROADMAP.md">Roadmap</a></li>
          <li><a href="https://github.com/streamspace-dev/streamspace/blob/main/CONTRIBUTING.md">Contributing</a></li>
          <li><a href="https://github.com/streamspace-dev/streamspace/issues">Issues</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Community</h3>
        <ul>
          <li><a href="https://github.com/streamspace-dev/streamspace/discussions">Discussions</a></li>
          <li><a href="https://github.com/streamspace-dev/streamspace">Star on GitHub</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 StreamSpace. Released under MIT License.</p>
    </div>
  </footer>

  <script src="js/main.js"></script>
</body>
</html>
