apiVersion: stream.streamspace.io/v1alpha1
kind: Template
metadata:
  name: chrome-browser
  namespace: streamspace
spec:
  displayName: Google Chrome
  description: Fast, secure web browser with Google integration
  category: Web Browsers
  icon: https://upload.wikimedia.org/wikipedia/commons/e/e1/Google_Chrome_icon_%28February_2022%29.svg
  baseImage: lscr.io/linuxserver/chromium:latest

  # VNC configuration (generic, not Kasm-specific)
  vnc:
    enabled: true
    port: 3000  # LinuxServer.io images use port 3000
    protocol: websocket
    encryption: false

  # Default resource allocations
  defaultResources:
    requests:
      memory: "1Gi"
      cpu: "500m"
    limits:
      memory: "2Gi"
      cpu: "1000m"

  # Environment variables
  env:
    - name: PUID
      value: "1000"
    - name: PGID
      value: "1000"
    - name: TZ
      value: "America/New_York"
    - name: CHROME_CLI
      value: "https://www.google.com"  # Default homepage

  # Volume mounts (user home will be auto-mounted)
  volumeMounts:
    - name: user-home
      mountPath: /config

  # Capabilities
  capabilities:
    - Network
    - Audio
    - Clipboard
    - USB
    - WebGL

  # Tags for search and categorization
  tags:
    - browser
    - web
    - chromium
    - google
